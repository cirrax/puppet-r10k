# managed with puppet
---
# see https://github.com/puppetlabs/r10k/blob/main/doc/dynamic-environments/configuration.mkd
# for available options.

<% if @cachedir -%>
# The 'cachedir' setting controls where cached content is stored.
cacheddir: <%= @cachedir %>
<% end -%>

<% if @proxy -%>
# The 'proxy' setting configures HTTP/HTTPS proxy
proxy: <%= @proxy %>
<% end -%>

<% if @pool_size -%>
# Determine how many threads should be spawn while updating modules.
pool_size: <%= @pool_size %>
<% end -%>

# The 'sources' setting determines what repositories r10k will use when creating
# Puppet environments.
# see (https://github.com/puppetlabs/r10k/blob/main/doc/dynamic-environments/configuration.mkd#source-options)
sources:
<% @sources.each do |key, val| -%>
  <%= key %>:
  <%- val.each do |k,v| -%>
    <%= k %>: <%= v %>
  <%- end -%>
<% end -%>

# git settings 
# (see https://github.com/puppetlabs/r10k/blob/main/doc/dynamic-environments/configuration.mkd)
git:
<% @git.each do |key, val| -%>
    <%= key %>: <%= val %>
<% end -%>

# Configuration options for downloading modules from the Puppet Forge
# (see https://github.com/puppetlabs/r10k/blob/main/doc/dynamic-environments/configuration.mkd#forge)
forge:
<% @forge.each do |key, val| -%>
    <%= key %>: <%= val %>
<% end -%>
